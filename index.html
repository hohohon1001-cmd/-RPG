<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>ìœ ê¸°ì‚¬ RPG</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:system-ui;
  background:
    linear-gradient(rgba(0,0,0,.7),rgba(0,0,0,.9)),
    url("https://images.unsplash.com/photo-1511497584788-876760111969?auto=format&fit=crop&w=1920&q=80");
  background-size:cover;
  color:#e8ebff;
}

.container{
  max-width:1200px;
  margin:auto;
  padding:12px;
  display:grid;
  grid-template-columns:420px 1fr;
  gap:12px;
}

.panel{
  background:rgba(255,255,255,.06);
  backdrop-filter:blur(8px);
  border-radius:16px;
  padding:12px;
}

h2,h3{margin:6px 0}

.stat-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
}

.stat{
  background:rgba(255,255,255,.08);
  border-radius:10px;
  padding:6px;
  text-align:center;
}

.bar{
  height:10px;
  background:#111;
  border-radius:8px;
  overflow:hidden;
}
.hp{background:linear-gradient(90deg,#ff4d4d,#ff9b9b);height:100%}
.mp{background:linear-gradient(90deg,#4db6ff,#6befff);height:100%}

button{
  width:100%;
  margin-top:6px;
  padding:10px;
  border:none;
  border-radius:10px;
  font-weight:800;
  cursor:pointer;
  background:linear-gradient(90deg,#7c8cff,#5865f2);
  color:white;
}
button.red{background:linear-gradient(90deg,#ff6b6b,#ff9b6b)}
button.green{background:linear-gradient(90deg,#00ffa6,#00c97a)}

.map{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
}

.map div{
  padding:8px;
  background:rgba(255,255,255,.08);
  border-radius:10px;
  cursor:pointer;
  text-align:center;
}

.log{
  height:120px;
  overflow:auto;
  font-size:13px;
}
</style>
</head>

<body>
<div class="container">

<!-- LEFT -->
<div class="panel">
  <h2>í”Œë ˆì´ì–´</h2>
  <div class="stat-grid">
    <div class="stat">LV<br><b id="lv"></b></div>
    <div class="stat">ATK<br><b id="atk"></b></div>
    <div class="stat">ê°•í™”<br><b id="up"></b></div>
    <div class="stat">ğŸ’°<br><b id="gold"></b></div>
    <div class="stat">EXP<br><b id="exp"></b></div>
    <div class="stat">ì§ì—…<br><b id="job"></b></div>
  </div>

  <h3>ëª¬ìŠ¤í„°</h3>
  <div id="monsterName"></div>
  <div class="bar"><div id="hpBar" class="hp"></div></div>
  <div class="bar" style="margin-top:4px"><div id="mpBar" class="mp"></div></div>

  <button onclick="attack()">ê³µê²©</button>
  <button class="green" onclick="toggleAuto()">ìë™ì‚¬ëƒ¥</button>
  <button class="red" onclick="upgrade()">ê°•í™”</button>
</div>

<!-- RIGHT -->
<div class="panel">
  <h3>ì§€ë„</h3>
  <div class="map" id="map"></div>

  <h3>ìƒì </h3>
  <button onclick="buyAtk()">âš” ê³µê²©ë ¥ +1 (50G)</button>
  <button onclick="buyMp()">ğŸ”® ìµœëŒ€ ë§ˆë‚˜ +10 (40G)</button>

  <h3>ë¡œê·¸</h3>
  <div class="log" id="log"></div>
</div>

</div>

<script>
/* ===== ìƒíƒœ ===== */
let lv=1, atk=1, up=1, gold=0, exp=0, nextExp=5;
let maxHp=20, hp=20;
let maxMp=50, mp=50;
let auto=false, autoTimer=null;
let area=0;

/* ===== ë°ì´í„° ===== */
const areas=[
 "ì¼ëª»íƒ€","ê¸‰ëª»íƒ€","ìœ ê¸°ì‚¬ì˜ ì°¨ê°€ìš´ ë†ë‹´",
 "ì‹íƒ","íŒ€ ë‚˜ë¹ ","ìœ ê¸°ì‚¬ ë””ìŠ¤ì½”ë“œ"
];

const monsters=[
 ["ì–´ë ¤ì›Œ í•˜ì‹œëŠ” ë©œë‹˜","ë²¨í‚¤ë‹˜"],
 ["ë˜ ëª»ê¹¨ê³  ìˆëŠ” ë©œë‹˜","ë¨¼ì €ê¹¬ ìš°ì°¸ë‹˜"],
 ["ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½© ã…‹ã…‹ã…‹","ë¼ì´ë²Œ ì‹¤ìˆ˜ì…ì¥"],
 ["ì˜·ì— ë–¨ì–´ì§„ ë°¥í’€","ì¤€ë¸Œë ˆë“œ ì—‰ë©ì´"],
 ["ì§­ ìœ ê¸°ì‚¬","ë©œë‹˜ìœ¼ë¡œ ìœ„ì¥í•œ ì¤€ë¸Œë ˆë“œ"],
 ["ìì¹¼ë‹˜","í‘í™”í•œ ë©œë‹˜","ë³´ìŠ¤ ìœ ê¸°ì‚¬ok"]
];

/* ===== DOM ===== */
const lvEl=lvEl=document.getElementById("lv");
const atkEl=document.getElementById("atk");
const upEl=document.getElementById("up");
const goldEl=document.getElementById("gold");
const expEl=document.getElementById("exp");
const jobEl=document.getElementById("job");
const hpBar=document.getElementById("hpBar");
const mpBar=document.getElementById("mpBar");
const mName=document.getElementById("monsterName");
const logBox=document.getElementById("log");

/* ===== í•¨ìˆ˜ ===== */
function log(t){
  const d=document.createElement("div");
  d.textContent=t;
  logBox.prepend(d);
}

function update(){
  lvEl.textContent=lv;
  atkEl.textContent=atk;
  upEl.textContent=up;
  goldEl.textContent=gold;
  expEl.textContent=`${exp}/${nextExp}`;
  jobEl.textContent="ë©œë¡œìš°ê¸‰";
  hpBar.style.width=(hp/maxHp*100)+"%";
  mpBar.style.width=(mp/maxMp*100)+"%";
}

function spawn(){
  maxHp=20+area*30;
  hp=maxHp;
  mName.textContent=monsters[area][Math.floor(Math.random()*monsters[area].length)];
}

function attack(){
  hp-=atk;
  if(hp<=0){
    gold+=10+area*5;
    exp+=4+area*2;
    if(exp>=nextExp){
      exp-=nextExp;
      lv++;
      nextExp=Math.floor(nextExp*1.25);
      atk++;
      log("ë ˆë²¨ì—…!");
    }
    spawn();
  }
  update();
}

function toggleAuto(){
  auto=!auto;
  if(auto){
    autoTimer=setInterval(attack,400);
    log("ìë™ì‚¬ëƒ¥ ON");
  }else{
    clearInterval(autoTimer);
    log("ìë™ì‚¬ëƒ¥ OFF");
  }
}

function upgrade(){
  const cost=20+up*10;
  if(gold<cost){log("ê³¨ë“œ ë¶€ì¡±");return;}
  gold-=cost;
  if(Math.random()<0.8){
    up++; atk++;
    log("ê°•í™” ì„±ê³µ");
  }else log("ê°•í™” ì‹¤íŒ¨");
  update();
}

function buyAtk(){
  if(gold<50){log("ê³¨ë“œ ë¶€ì¡±");return;}
  gold-=50; atk++; update(); log("ê³µê²©ë ¥ +1");
}
function buyMp(){
  if(gold<40){log("ê³¨ë“œ ë¶€ì¡±");return;}
  gold-=40; maxMp+=10; mp=maxMp; update(); log("ë§ˆë‚˜ ì¦ê°€");
}

/* ===== ì§€ë„ ===== */
const map=document.getElementById("map");
areas.forEach((a,i)=>{
  const d=document.createElement("div");
  d.textContent=a;
  d.onclick=()=>{
    if(lv<i*10){log("ë ˆë²¨ ë¶€ì¡±");return;}
    area=i; spawn(); log(a+" ì´ë™");
  };
  map.appendChild(d);
});

/* ===== ì‹œì‘ ===== */
spawn();
update();
</script>
</body>
</html>
