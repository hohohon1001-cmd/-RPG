<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìœ ê¸°ì‚¬ RPG</title>

<style>
body{
  margin:0;
  background:#0b0d15;
  font-family:'Segoe UI',sans-serif;
  color:#e6e8ff;
}
#bg{
  position:fixed; inset:0;
  background-size:cover;
  background-position:center;
  filter:brightness(.4);
  z-index:-1;
}
.container{
  max-width:520px;
  margin:auto;
  padding:12px;
}
.hud{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:6px;
}
.box{
  background:#12152a;
  border-radius:12px;
  padding:6px;
  text-align:center;
  font-size:12px;
}
.box span{
  display:block;
  font-size:16px;
  font-weight:bold;
  color:#9fa8ff;
}
.monster{
  margin-top:10px;
  background:#14183a;
  border-radius:20px;
  padding:18px;
  text-align:center;
}
.monster-name{
  font-size:18px;
  font-weight:bold;
  margin-bottom:8px;
}
.hp{
  height:12px;
  background:#111;
  border-radius:8px;
  overflow:hidden;
}
.hp div{
  height:100%;
  background:linear-gradient(90deg,#ff4040,#ff9b9b);
}
.btn{
  width:100%;
  margin-top:6px;
  padding:12px;
  border:none;
  border-radius:16px;
  background:#5865f2;
  color:white;
  font-weight:bold;
}
.btn.small{padding:6px;font-size:12px;}
.log{
  text-align:center;
  margin-top:6px;
  min-height:18px;
  font-size:13px;
  color:#b7bbff;
}
.list .item{
  background:#10132a;
  border-radius:10px;
  padding:6px;
  margin-top:4px;
  display:flex;
  justify-content:space-between;
  align-items:center;
}
</style>
</head>

<body>
<div id="bg"></div>

<div class="container">

<div class="hud">
  <div class="box">LV<span id="lv">1</span></div>
  <div class="box">ATK<span id="atk">1</span></div>
  <div class="box">ğŸ’°<span id="coin">0</span></div>
  <div class="box">EXP<span id="exp">0/10</span></div>
  <div class="box">MP<span id="mp">10</span></div>
  <div class="box">MAP<span id="mapName">ì´ˆì›</span></div>
</div>

<div class="monster" onclick="attack()">
  <div class="monster-name" id="mName"></div>
  <div class="hp"><div id="hpBar"></div></div>
</div>

<button class="btn" onclick="toggleAuto()">ğŸ¤– ìë™ì‚¬ëƒ¥</button>

<div class="list" id="mapList"></div>

<div class="log" id="log"></div>

</div>

<script>
/* ===== ë§µ ===== */
const maps=[
 {name:"ğŸŒ± ì´ˆì›",bg:"https://images.unsplash.com/photo-1501785888041-af3ef285b470"},
 {name:"ğŸŒ´ ë°€ë¦¼",bg:"https://images.unsplash.com/photo-1507525428034-b723cf961d3e"},
 {name:"â„ ì„¤ì‚°",bg:"https://images.unsplash.com/photo-1482192596544-9eb780fc7f66"},
 {name:"ğŸ½ ì‹íƒ",bg:"https://images.unsplash.com/photo-1504674900247-0877df9cc836"},
 {name:"ğŸŒ‹ íŒ€ ë‚˜ë¹ ",bg:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee"},
 {name:"ğŸ’¬ ìœ ê¸°ì‚¬ ë””ìŠ¤ì½”ë“œ",bg:"https://images.unsplash.com/photo-1518770660439-4636190af475"},
 {name:"ğŸ’€ ë¯¸1ì¹œë†ˆ ê²Œì„ì¦ˆ",bg:"https://images.unsplash.com/photo-1519681393784-d120267933ba"}
];

/* ===== ëª¬ìŠ¤í„° (ì›ë³¸ ìœ ì§€ + ì‹ ê·œ ì¶”ê°€) ===== */
const monsters=[
 ["ì–´ë ¤ì›Œ í•˜ì‹œëŠ” ë©œë‹˜","ë²¨í‚¤ë‹˜"],
 ["ë˜ ëª»ê¹¨ê³  ìˆëŠ” ë©œë‹˜","ë¨¼ì €ê¹¬ ìš°ì°¸ë‹˜"],
 ["ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½© ã…‹ã…‹ã…‹","ì•„ë‹ˆ ì‹¤ìˆ˜ë¡œ ë¼ì´ë²Œ ë“¤ì–´ê°"],
 ["ì˜·ì— ë–¨ì–´ì§„ ë°¥í’€","í›„ì‹ìœ¼ë¡  ì¤€ë¸Œë ˆë“œ ì—‰ë©ì´"],
 ["ì§­ ìœ ê¸°ì‚¬","ë©œë‹˜ìœ¼ë¡œ ìœ„ì¥í•œ ì¤€ë¸Œë ˆë“œ"],
 ["ìì¹¼ë‹˜","í‘í™”í•œ ë©œë‹˜","ë³´ìŠ¤: ìœ ê¸°ì‚¬ok"],
 ["ë¯¸1ì¹œë†ˆ ê²Œì„ì¦ˆ","ë² ì´ì»¨(ë¡œë¸” ì• ë‹ˆ)","ë³´ìŠ¤: ìµœì¢… ìœ ê¸°ì‚¬"]
];

/* ===== ìƒíƒœ ===== */
let lv=1,atk=1,coin=0,exp=0,nextExp=10;
let mp=10,mapIndex=0;
let mhp=20,hp=20;
let auto=false,autoI;

/* ===== UI ===== */
const bg=document.getElementById("bg");
const mName=document.getElementById("mName");
const hpBar=document.getElementById("hpBar");
const log=document.getElementById("log");

/* ===== ì €ì¥ ===== */
function save(){
 localStorage.setItem("rpgSave",JSON.stringify({lv,atk,coin,exp,nextExp,mp,mapIndex}));
}
function load(){
 const s=JSON.parse(localStorage.getItem("rpgSave")||"null");
 if(!s)return;
 Object.assign(window,s);
}

/* ===== ëª¬ìŠ¤í„° ===== */
function spawn(){
 hp=mhp=20+mapIndex*30+lv*5;
 mName.textContent=monsters[mapIndex][Math.floor(Math.random()*monsters[mapIndex].length)];
 bg.style.backgroundImage=`url(${maps[mapIndex].bg})`;
 document.getElementById("mapName").textContent=maps[mapIndex].name;
 update();
}

/* ===== ì „íˆ¬ ===== */
function attack(){
 hp-=atk;
 if(hp<=0){
  coin+=10+mapIndex*5;
  exp+=5+mapIndex*3;
  if(exp>=nextExp){exp-=nextExp;lv++;atk++;nextExp=Math.floor(nextExp*1.3);}
  spawn();
 }
 update();
}

/* ===== ìë™ ===== */
function toggleAuto(){
 auto=!auto;
 if(auto) autoI=setInterval(attack,250);
 else clearInterval(autoI);
}

/* ===== ì§€ë„ ===== */
function renderMap(){
 const list=document.getElementById("mapList");
 list.innerHTML="";
 maps.forEach((m,i)=>{
  const d=document.createElement("div");
  d.className="item";
  d.innerHTML=`${m.name}<button class="btn small" onclick="move(${i})">ì´ë™</button>`;
  list.appendChild(d);
 });
}
function move(i){
 mapIndex=i;
 spawn();
}

/* ===== UI ===== */
function update(){
 document.getElementById("lv").textContent=lv;
 document.getElementById("atk").textContent=atk;
 document.getElementById("coin").textContent=coin;
 document.getElementById("exp").textContent=`${exp}/${nextExp}`;
 document.getElementById("mp").textContent=mp;
 hpBar.style.width=(hp/mhp*100)+"%";
 save();
}

/* ===== ì‹œì‘ ===== */
load();
renderMap();
spawn();
</script>
</body>
</html>
