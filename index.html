<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìœ ê¸°ì‚¬ RPG</title>

<style>
*{box-sizing:border-box}

body{
 margin:0;
 min-height:100vh;
 font-family:'Segoe UI',sans-serif;
 background:#000;
 display:flex;
 justify-content:center;
 align-items:flex-start;
 padding-top:20px;
 overflow-x:hidden;
}

/* ===== ë°°ê²½ ===== */
#bg{
 position:fixed;
 inset:0;
 background-size:cover;
 background-position:center;
 filter:brightness(0.55);
 z-index:0;
 pointer-events:none;
 transition:background-image .5s;
}

/* ===== ê²Œì„ ì»¨í…Œì´ë„ˆ ===== */
.container{
 position:relative;
 z-index:10;
 width:95%;
 max-width:520px;
 background:rgba(15,18,30,.9);
 border-radius:26px;
 padding:16px;
 box-shadow:0 0 40px rgba(0,0,0,.9);
}

/* HUD */
.hud{
 display:grid;
 grid-template-columns:repeat(6,1fr);
 gap:6px;
}
.hud-box{
 background:#0e1222;
 border-radius:14px;
 text-align:center;
 font-size:11px;
 padding:6px 0;
}
.hud-box span{
 display:block;
 font-size:15px;
 font-weight:bold;
 color:#9fa8ff;
}

/* ì§€ì—­ */
.area{
 text-align:center;
 margin:10px 0;
 font-weight:bold;
 color:#cfd4ff;
}

/* ëª¬ìŠ¤í„° */
.monster{
 background:linear-gradient(180deg,#232851,#0d1020);
 border-radius:24px;
 padding:22px;
 text-align:center;
 cursor:pointer;
 user-select:none;
}
.monster-name{
 font-size:20px;
 margin-bottom:6px;
}
.hp-bar{
 width:100%;
 height:14px;
 background:#111;
 border-radius:10px;
 overflow:hidden;
}
.hp-fill{
 height:100%;
 background:linear-gradient(90deg,#ff3b3b,#ff9b9b);
 width:100%;
 transition:.15s;
}

/* ë²„íŠ¼ */
.btn{
 width:100%;
 margin-top:6px;
 padding:12px;
 border-radius:18px;
 border:none;
 cursor:pointer;
 font-size:14px;
 font-weight:bold;
 color:white;
 background:linear-gradient(#5865F2,#404EED);
}
.btn.job{background:linear-gradient(90deg,#ffd700,#ff4d4d,#9b4dff)}
.btn.auto{background:linear-gradient(90deg,#00ff9b,#00a676)}
.btn.shop{background:linear-gradient(90deg,#ff9f1a,#ff6a00)}
.btn.map{background:linear-gradient(90deg,#4dd0e1,#0077c2)}

.log{
 text-align:center;
 margin-top:6px;
 font-size:13px;
 color:#b7bbff;
 min-height:18px;
}
</style>
</head>

<body>

<div id="bg"></div>

<div class="container">

<div class="hud">
 <div class="hud-box">LV<span id="playerLv">1</span></div>
 <div class="hud-box">ì§ì—…<span id="jobText">ì´ˆë³´ì</span></div>
 <div class="hud-box">ATK<span id="atk">1</span></div>
 <div class="hud-box">ê°•í™”<span id="upgradeLv">1</span></div>
 <div class="hud-box">ğŸ’°<span id="coin">0</span></div>
 <div class="hud-box">EXP<span id="expText">0/10</span></div>
</div>

<div id="areaText" class="area">ğŸŒ± ì¼ëª»íƒ€</div>

<div class="monster" onclick="attack()">
 <div id="monsterName" class="monster-name">ì•„ì§ë„ ëª»ê¹¬ ë©œë‹˜</div>
 <div class="hp-bar"><div id="hpFill" class="hp-fill"></div></div>
</div>

<button class="btn" onclick="upgrade()">ğŸ”§ ê°•í™”</button>
<button id="jobBtn" class="btn job" onclick="jobChange()" style="display:none;">ğŸ”® ì „ì§</button>
<button class="btn auto" onclick="toggleAuto()">ğŸ¤– ìë™ì‚¬ëƒ¥</button>
<button class="btn map" onclick="moveMap()">ğŸ—ºï¸ ì§€ë„ ì´ë™</button>

<div id="log" class="log">ê²Œì„ ì‹œì‘!</div>

</div>

<script>
/* ===== ë°ì´í„° ===== */
let coins=0, atk=1, playerLv=1, exp=0, nextExp=10;
let upgradeLv=1, job="ì´ˆë³´ì", jobStage=0;
let monsterHp=20, monsterMaxHp=20, kills=0;
let auto=false, autoTimer=null;

/* ===== ì§€ì—­ + ë°°ê²½ ===== */
const areas=[
 {name:"ğŸŒ± ì¼ëª»íƒ€", lv:1, bg:"https://images.unsplash.com/photo-1501785888041-af3ef285b470"},
 {name:"ğŸŒ´ ê¸‰ëª»íƒ€", lv:10, bg:"https://images.unsplash.com/photo-1500530855697-b586d89ba3ee"},
 {name:"â„ ìœ ê¸°ì‚¬ì˜ ì°¨ê°€ìš´ ë†ë‹´", lv:20, bg:"https://images.unsplash.com/photo-1482192596544-9eb780fc7f66"},
 {name:"ğŸœ ì‹íƒ", lv:30, bg:"https://images.unsplash.com/photo-1504674900247-0877df9cc836"},
 {name:"ğŸŒ‹ íŒ€ ë‚˜ë¹ ", lv:40, bg:"https://images.unsplash.com/photo-1500534314209-a25ddb2bd429"},
 {name:"ğŸŒŒ ìœ ê¸°ì‚¬ ë””ìŠ¤ì½”ë“œ", lv:50, bg:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa"}
];

const monsters=[
 ["ì•„ì§ë„ ëª»ê¹¬ ë©œë‹˜","ê°™ì´ ì˜¬ë¼ê°€ëŠ” ë²¨í‚¤ë‹˜"],
 ["ì´ê±¸ ë˜ ì–´ë ¤ì›Œ í•˜ì‹œëŠ” ë©œë‹˜","ë¨¼ì € ì˜¬ë¼ê°„ ìš°ìœ ì°¸ì¹˜ë‹˜"],
 ["ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½©ã…‹ã…‹ã…‹","ì•„ë‹ˆ ì‹¤ìˆ˜ë¡œ ë¼ì´ë²Œë“¤ì–´ê°"],
 ["ë‚´ ì˜·ì— ë–¨ì–´ì§„ ë°¥í’€ë‹˜","í›„ì‹ìœ¼ë¡  ì¤€ë¸Œë ˆë“œì—‰ë©ì´"],
 ["íŒ€ë‚˜ë¹ ","í’ì„±í•œ í• ë¡œìœˆ"],
 ["í‘í™”í•œ ë©œë‹˜","ìì¹¼ë‹˜","ë³´ìŠ¤: ìœ ê¸°ì‚¬"]
];

/* ===== UI ===== */
const $=id=>document.getElementById(id);

function areaIndex(){
 let i=0;
 for(let a=0;a<areas.length;a++) if(playerLv>=areas[a].lv) i=a;
 return i;
}

/* ===== ëª¬ìŠ¤í„° ===== */
function spawnMonster(){
 const a=areaIndex();
 monsterMaxHp=30+a*40+kills*2;
 monsterHp=monsterMaxHp;
 $("monsterName").textContent =
  monsters[a][Math.floor(Math.random()*monsters[a].length)];
 $("areaText").textContent=areas[a].name;
 document.getElementById("bg").style.backgroundImage=`url(${areas[a].bg})`;
 updateUI();
}

/* ===== ì „íˆ¬ ===== */
function attack(){
 monsterHp-=atk;
 if(monsterHp<=0){
  kills++;
  coins+=10+areaIndex()*5;
  exp+=8+areaIndex()*6;
  levelUp();
  spawnMonster();
 }
 updateUI();
}

/* ===== ë ˆë²¨ì—… ===== */
function levelUp(){
 while(exp>=nextExp){
  exp-=nextExp;
  playerLv++;
  atk++;
  nextExp=Math.floor(nextExp*1.3);
 }
 if(playerLv>=20 && jobStage===0) $("jobBtn").style.display="block";
}

/* ===== ê°•í™” ===== */
function upgrade(){
 const cost=20+upgradeLv*6;
 if(coins<cost){$("log").textContent="ğŸ’¸ ê³¨ë“œ ë¶€ì¡±";return;}
 coins-=cost;
 upgradeLv++; atk++;
 updateUI();
}

/* ===== ì „ì§ ===== */
function jobChange(){
 if(jobStage===0){job="âš” ìš°ìœ ì°¸ì¹˜"; atk+=5; jobStage=1;}
 $("jobBtn").style.display="none";
 updateUI();
}

/* ===== ìë™ì‚¬ëƒ¥ ===== */
function toggleAuto(){
 auto=!auto;
 if(auto){
  autoTimer=setInterval(attack,300);
  $("log").textContent="ğŸ¤– ìë™ì‚¬ëƒ¥ ON";
 }else{
  clearInterval(autoTimer);
  $("log").textContent="ìë™ì‚¬ëƒ¥ OFF";
 }
}

/* ===== ì§€ë„ ===== */
function moveMap(){
 if(playerLv<areas[areaIndex()+1]?.lv){
  $("log").textContent="âŒ ë ˆë²¨ ë¶€ì¡±";
  return;
 }
 spawnMonster();
}

/* ===== UI ===== */
function updateUI(){
 $("playerLv").textContent=playerLv;
 $("atk").textContent=atk;
 $("coin").textContent=coins;
 $("upgradeLv").textContent=upgradeLv;
 $("expText").textContent=`${exp}/${nextExp}`;
 $("jobText").textContent=job;
 $("hpFill").style.width=(monsterHp/monsterMaxHp*100)+"%";
 save();
}

/* ===== ì €ì¥ ===== */
function save(){
 localStorage.setItem("yugisaRPG",
  JSON.stringify({coins,atk,playerLv,exp,nextExp,upgradeLv,job,jobStage,kills}));
}
function load(){
 const s=JSON.parse(localStorage.getItem("yugisaRPG"));
 if(!s)return;
 Object.assign(window,s);
}

/* ===== ì‹œì‘ ===== */
load();
spawnMonster();
updateUI();
</script>

</body>
</html>
