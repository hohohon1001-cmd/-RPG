<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìœ ê¸°ì‚¬ RPG â€“ Ultimate</title>

<style>
:root{
  --main:#7c8cff;
  --sub:#ff9b9b;
  --glass:rgba(255,255,255,.06);
}

*{box-sizing:border-box}
html,body{
  margin:0;height:100%;
  font-family: 'Segoe UI', system-ui;
  color:#e6e8ff;
}

body{
  background:
    linear-gradient(180deg,rgba(0,0,0,.7),rgba(0,0,0,.9)),
    url("https://images.unsplash.com/photo-1519681393784-d120267933ba?auto=format&fit=crop&w=1920&q=80");
  background-size:cover;
  background-position:center;
  display:flex;
  justify-content:center;
  align-items:center;
}

.app{
  width:100%;
  max-width:1100px;
  background:rgba(10,15,30,.8);
  backdrop-filter:blur(8px);
  border-radius:20px;
  padding:16px;
  display:grid;
  grid-template-columns:420px 1fr;
  gap:16px;
}

/* HUD */
.hud{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.hud-box{
  background:var(--glass);
  border-radius:12px;
  padding:8px;
  text-align:center;
}
.hud-box small{opacity:.7}
.hud-box span{font-size:18px;font-weight:800;color:var(--main)}

/* Monster */
.monster{
  background:var(--glass);
  border-radius:16px;
  padding:14px;
  text-align:center;
}
.hpbar,.mpbar{
  height:10px;
  background:#111;
  border-radius:8px;
  overflow:hidden;
}
.hpfill{height:100%;background:linear-gradient(90deg,#ff3b3b,#ff9b9b)}
.mpfill{height:100%;background:linear-gradient(90deg,#6befff,#4db6ff)}

.btn{
  padding:10px;
  border:none;
  border-radius:12px;
  font-weight:800;
  cursor:pointer;
  background:linear-gradient(90deg,var(--main),#5865f2);
  color:white;
}
.btn.warn{background:linear-gradient(90deg,#ff7b7b,#ffb86b)}
.btn.green{background:linear-gradient(90deg,#00ffa6,#00c97a)}

.card{
  background:var(--glass);
  border-radius:14px;
  padding:12px;
}

/* Map */
.map-grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:8px;
}
.map-node{
  padding:10px;
  border-radius:12px;
  background:rgba(255,255,255,.04);
  cursor:pointer;
  text-align:center;
}
.map-node.lock{opacity:.4;cursor:not-allowed}

/* Log */
.log{
  height:100px;
  overflow:auto;
  font-size:13px;
}
</style>
</head>

<body>
<div class="app">

<!-- LEFT -->
<div>
  <div class="hud">
    <div class="hud-box"><small>LV</small><span id="lv">1</span></div>
    <div class="hud-box"><small>ì§ì—…</small><span id="job">ë©œë¡œìš°ê¸‰</span></div>
    <div class="hud-box"><small>ATK</small><span id="atk">1</span></div>
    <div class="hud-box"><small>ê°•í™”</small><span id="up">1</span></div>
    <div class="hud-box"><small>ğŸ’°</small><span id="gold">0</span></div>
    <div class="hud-box"><small>EXP</small><span id="exp">0/5</span></div>
  </div>

  <div class="monster" style="margin-top:12px">
    <h2 id="mName">ë©œë‹˜</h2>
    <div class="hpbar"><div id="hp" class="hpfill"></div></div>
    <div class="mpbar" style="margin-top:6px"><div id="mp" class="mpfill"></div></div>

    <button class="btn" onclick="attack()" style="margin-top:10px">ê³µê²©</button>
    <button class="btn green" onclick="toggleAuto()">ìë™ì‚¬ëƒ¥</button>
    <button class="btn warn" onclick="upgrade()">ê°•í™”</button>
  </div>
</div>

<!-- RIGHT -->
<div class="card">
  <h3>ì§€ë„</h3>
  <div class="map-grid" id="map"></div>

  <h3 style="margin-top:12px">ë¡œê·¸</h3>
  <div class="log" id="log"></div>
</div>

</div>

<script>
/* === ë°ì´í„° === */
let lv=1, atk=1, gold=0, exp=0, nextExp=5;
let up=1, mp=100, maxMp=100;
let auto=false, autoId=null;
let area=0, hp=20, maxHp=20;

const areas=[
 "ğŸŒ± ì¼ëª»íƒ€","ğŸŒ´ ê¸‰ëª»íƒ€","â„ ìœ ê¸°ì‚¬ì˜ ì°¨ê°€ìš´ ë†ë‹´",
 "ğŸœ ì‹íƒ","ğŸŒ‹ íŒ€ ë‚˜ë¹ ","ğŸŒŒ ìœ ê¸°ì‚¬ ë””ìŠ¤ì½”ë“œ"
];

const monsters=[
 ["ì–´ë ¤ì›Œ í•˜ì‹œëŠ” ë©œë‹˜","ë²¨í‚¤ë‹˜"],
 ["ë˜ ëª»ê¹¨ê³  ìˆëŠ” ë©œë‹˜","ë¨¼ì €ê¹¬ ìš°ì°¸ë‹˜"],
 ["ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½© ã…‹ã…‹ã…‹","ì•„ë‹ˆ ì‹¤ìˆ˜ë¡œ ë¼ì´ë²Œ ë“¤ì–´ê°"],
 ["ì˜·ì— ë–¨ì–´ì§„ ë°¥í’€","í›„ì‹ìœ¼ë¡  ì¤€ë¸Œë ˆë“œ ì—‰ë©ì´"],
 ["ì§­ ìœ ê¸°ì‚¬","ë©œë‹˜ìœ¼ë¡œ ìœ„ì¥í•œ ì¤€ë¸Œë ˆë“œ"],
 ["ìì¹¼ë‹˜","í‘í™”í•œ ë©œë‹˜","ë³´ìŠ¤: ìœ ê¸°ì‚¬ok"]
];

/* === ê¸°ëŠ¥ === */
function log(t){
  const d=document.createElement("div");
  d.textContent=t;
  logBox.prepend(d);
}

function spawn(){
  maxHp=20+area*40;
  hp=maxHp;
  mName.textContent=monsters[area][Math.floor(Math.random()*monsters[area].length)];
  update();
}

function attack(){
  hp-=atk;
  if(hp<=0){
    gold+=10+area*5;
    exp+=5+area*2;
    if(exp>=nextExp){
      exp-=nextExp; lv++; atk++; nextExp=Math.floor(nextExp*1.3);
      log("ğŸ‰ ë ˆë²¨ì—…!");
    }
    spawn();
  }
  update();
}

function upgrade(){
  const cost=20+up*6;
  if(gold<cost){log("ê³¨ë“œ ë¶€ì¡±");return;}
  gold-=cost;
  if(Math.random()<0.8){
    up++; atk++;
    log("ê°•í™” ì„±ê³µ");
  }else log("ê°•í™” ì‹¤íŒ¨");
  update();
}

function toggleAuto(){
  auto=!auto;
  if(auto){
    autoId=setInterval(attack,300);
    log("ìë™ì‚¬ëƒ¥ ON");
  }else{
    clearInterval(autoId);
    log("ìë™ì‚¬ëƒ¥ OFF");
  }
}

function update(){
  lvEl.textContent=lv;
  atkEl.textContent=atk;
  goldEl.textContent=gold;
  upEl.textContent=up;
  expEl.textContent=`${exp}/${nextExp}`;
  hpEl.style.width=(hp/maxHp*100)+"%";
  mpEl.style.width=(mp/maxMp*100)+"%";
}

/* === ì§€ë„ === */
areas.forEach((a,i)=>{
  const d=document.createElement("div");
  d.className="map-node";
  d.textContent=a;
  d.onclick=()=>{
    if(lv<i*10){log("ë ˆë²¨ ë¶€ì¡±");return;}
    area=i; spawn(); log(a+" ì´ë™");
  };
  map.appendChild(d);
});

/* === ì‹œì‘ === */
const lvEl=lv, atkEl=atk;
spawn(); update();
</script>
</body>
</html>
