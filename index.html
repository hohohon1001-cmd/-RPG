<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìœ ê¸°ì‚¬ RPG â€“ ê°ì„±ì˜ ê¸¸</title>

<style>
:root {
    --bg1:#0b0c10;
    --bg2:#1f2230;
    --card:#141622;
    --accent:#5865F2;
    --neon:#8f9bff;
    --danger:#ff4d4d;
}

body {
    margin: 0;
    height: 100vh;
    background:
        radial-gradient(circle at top, #2b2f4a, #000 70%),
        linear-gradient(180deg,var(--bg2),var(--bg1));
    font-family: 'Segoe UI', sans-serif;
    color: #e6e8ff;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ===== ì»¨í…Œì´ë„ˆ ===== */
.container {
    width: 95%;
    max-width: 500px;
    background: linear-gradient(180deg,#1b1e2c,#0e1018);
    border-radius: 30px;
    padding: 18px;
    box-shadow:
        0 0 40px rgba(0,0,0,.9),
        inset 0 0 20px rgba(88,101,242,.08);
}

/* ===== HUD ===== */
.hud {
    display: grid;
    grid-template-columns: repeat(4,1fr);
    gap: 8px;
}

.hud-box {
    background: var(--card);
    border-radius: 18px;
    padding: 8px 0;
    text-align: center;
    font-size: 11px;
    letter-spacing: .5px;
    box-shadow: inset 0 0 10px rgba(0,0,0,.8);
}

.hud-box span {
    display: block;
    font-size: 20px;
    font-weight: bold;
    color: var(--neon);
    text-shadow: 0 0 8px rgba(143,155,255,.6);
}

/* ===== ì§€ì—­ ===== */
.area {
    margin: 12px 0 8px;
    text-align: center;
    font-size: 14px;
    color: #aab0ff;
    text-shadow: 0 0 6px rgba(143,155,255,.4);
}

/* ===== ëª¬ìŠ¤í„° ì¹´ë“œ ===== */
.monster {
    background:
        radial-gradient(circle at top,#22263a,#0c0e18);
    border-radius: 28px;
    padding: 26px 14px;
    text-align: center;
    cursor: pointer;
    user-select: none;
    box-shadow:
        0 0 25px rgba(0,0,0,.8),
        inset 0 0 15px rgba(255,255,255,.03);
    transition: transform .08s;
}
.monster:active {
    transform: scale(.97);
}

.monster-name {
    font-size: 24px;
    font-weight: bold;
    margin-bottom: 8px;
}

/* HP BAR */
.hp-bar {
    width: 100%;
    height: 14px;
    background: #0a0b12;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: inset 0 0 6px rgba(0,0,0,.8);
}
.hp-fill {
    height: 100%;
    width: 100%;
    background: linear-gradient(90deg,#ff3b3b,#ff9b9b);
    transition: width .12s;
}

/* ===== ë²„íŠ¼ ===== */
.btn {
    width: 100%;
    margin-top: 10px;
    padding: 15px;
    border-radius: 20px;
    border: none;
    cursor: pointer;
    font-size: 15px;
    font-weight: bold;
    color: white;
    background: linear-gradient(180deg,#6d78ff,#4a55d9);
    box-shadow:
        0 6px 18px rgba(88,101,242,.4),
        inset 0 0 6px rgba(255,255,255,.15);
    transition: transform .1s, box-shadow .1s;
}
.btn:active {
    transform: translateY(2px);
    box-shadow: 0 3px 10px rgba(88,101,242,.4);
}

/* ê°ì„± */
.btn.awaken {
    background: linear-gradient(90deg,#ffd700,#ff4d4d,#9b4dff);
    box-shadow:
        0 0 20px rgba(255,215,0,.6),
        0 0 35px rgba(155,77,255,.5);
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% {filter: brightness(1);}
    50% {filter: brightness(1.25);}
    100% {filter: brightness(1);}
}

/* ===== ìƒì  ===== */
.shop {
    margin-top: 12px;
    background: var(--card);
    border-radius: 20px;
    padding: 10px;
    font-size: 13px;
    box-shadow: inset 0 0 10px rgba(0,0,0,.7);
}

/* ===== ë¡œê·¸ ===== */
.log {
    margin-top: 8px;
    text-align: center;
    font-size: 13px;
    color: #b7bbff;
    opacity: .85;
}
</style>
</head>

<body>
<div class="container">

<!-- HUD -->
<div class="hud">
    <div class="hud-box">LV<span id="playerLv">1</span></div>
    <div class="hud-box">EXP<span id="expText">0/10</span></div>
    <div class="hud-box">ATK<span id="atk">1</span></div>
    <div class="hud-box">ğŸ’°<span id="coin">0</span></div>
</div>

<div id="areaText" class="area">ğŸŒ± ì´ˆì›</div>

<!-- MONSTER -->
<div class="monster" onclick="attack()">
    <div id="monsterName" class="monster-name">ìŠ¬ë¼ì„</div>
    <div class="hp-bar">
        <div id="hpFill" class="hp-fill"></div>
    </div>
</div>

<button id="upgradeBtn" class="btn" onclick="upgrade()">
    ğŸ”§ ê°•í™” (<span id="chanceText">90</span>%)
</button>

<button class="btn" onclick="toggleIdle()">
    â³ ë°©ì¹˜ ëª¨ë“œ: <span id="idleText">OFF</span>
</button>

<div class="shop">
    ğŸ›’ ìƒì <br>
    <button class="btn" onclick="buyAtk()">ATK +1 (50ğŸ’°)</button>
</div>

<div id="log" class="log">ì—¬ì •ì´ ì‹œì‘ë˜ì—ˆë‹¤â€¦</div>

</div>

<audio id="hitSound" src="https://assets.mixkit.co/sfx/preview/mixkit-quick-hit-2187.mp3"></audio>
<audio id="upgradeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>

<script>
/* === ë¡œì§ì€ ì´ì „ ì•ˆì •íŒê³¼ ë™ì¼ === */
let coins=0, atk=1;
let playerLv=1, exp=0, nextExp=10;
let upgradeLv=1, upgradeChance=90;
let monsterHp=10, monsterMaxHp=10, kills=0;
let idle=false, idleTimer=null;

const areas=[
 {name:"ğŸŒ± ìœ ê¸°ì‚¬ ì„œì‹ì§€",minLv:1},
 {name:"ğŸŒ´ ë©œë¡œìš°ì˜ í˜",minLv:10},
 {name:"â„ ëˆˆì˜ í©ë‚ ë¦¬ëŠ” ìš°ìœ ì°¸ì¹˜ë‹˜",minLv:20},
 {name:"ğŸŒ‹ ë²¨í‚¤ë‹˜ í­1ë°œ",minLv:30},
 {name:"ğŸŒŒ ì¤€ë¸Œë ˆë“œ ì—‰ë©ì´",minLv:40}
];
const monsters=["ìœ ê¸°ì‚¬ ìŠ¬ë¼ì„","ë©œë¡œìš° ê³ ë¸”ë¦°","ìš°ìœ ì°¸ì¹˜ì˜ ë¹™ìˆ˜","ëœ¨ê±°ìš´ ë²¨í‚¤ë‹˜","ì¤€ë¸Œë ˆë“œ ì—‰ë©ì´"];

function save(){
 localStorage.setItem("yugisaRPG_UI",JSON.stringify({
  coins,atk,playerLv,exp,nextExp,upgradeLv,upgradeChance,kills
 }));
}
function load(){
 const s=JSON.parse(localStorage.getItem("yugisaRPG_UI"));
 if(!s)return;
 Object.assign(window,s);
}
function areaIndex(){
 let i=0;
 for(let a=0;a<areas.length;a++)
  if(playerLv>=areas[a].minLv)i=a;
 return i;
}
function spawnMonster(){
 const a=areaIndex();
 monsterMaxHp=15+a*20+kills*2;
 monsterHp=monsterMaxHp;
 monsterName.textContent=monsters[a];
 areaText.textContent=areas[a].name;
 updateUI();
}
function attack(){
 monsterHp-=atk;
 hitSound.play();
 if(monsterHp<=0){
  kills++;
  coins+=10+areaIndex()*5;
  exp+=6+areaIndex()*4;
  levelUp();
  spawnMonster();
 }
 updateUI();
}
function levelUp(){
 while(exp>=nextExp){
  exp-=nextExp;
  playerLv++;
  nextExp=Math.floor(nextExp*1.5);
  atk++;
  log.textContent=`ğŸ‰ ë ˆë²¨ì—…! LV ${playerLv}`;
 }
}
function upgrade(){
 const cost=20+upgradeLv*10;
 if(coins<cost){log.textContent="ğŸ’¸ ì½”ì¸ ë¶€ì¡±";return;}
 coins-=cost;
 let chance=upgradeLv>=10?Math.min(95,upgradeChance+10):upgradeChance;
 if(Math.random()*100<=chance){
  upgradeLv++;
  atk+=upgradeLv>=10?2:1;
  upgradeChance=Math.max(10,upgradeChance-2);
  upgradeSound.play();
  log.textContent="ğŸ”¥ ê°•í™” ì„±ê³µã„·ã„·!";
 }else log.textContent="ğŸ’€ ê°•í™” ì‹¤íŒ¨â€¦ì¦ˆì¦›";
 updateUI();
}
function buyAtk(){
 if(coins<50)return;
 coins-=50; atk++;
 log.textContent="ATK +1 êµ¬ë§¤!";
 updateUI();
}
function toggleIdle(){
 idle=!idle;
 idleText.textContent=idle?"ON":"OFF";
 idle?idleTimer=setInterval(attack,1000):clearInterval(idleTimer);
}
function updateUI(){
 hpFill.style.width=(monsterHp/monsterMaxHp*100)+"%";
 coin.textContent=coins;
 atk.textContent=atk;
 playerLv.textContent=playerLv;
 expText.textContent=`${exp}/${nextExp}`;
 chanceText.textContent=upgradeChance;
 if(upgradeLv>=10){
  upgradeBtn.classList.add("awaken");
  upgradeBtn.textContent="ğŸ”¥ ê°ì„± ê°•í™”";
 }
 save();
}
load(); spawnMonster(); updateUI();
</script>
</body>
</html>
