<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ìœ ê¸°ì‚¬ RPG â€“ ì™„ì „íŒ ê°„ì§€ ë²„ì „</title>
<style>
/* ===== ê¸°ë³¸ ë°°ê²½ ë° í°íŠ¸ ===== */
body {
 margin:0;
 font-family:'Segoe UI',sans-serif;
 color:#e6e8ff;
 display:flex;
 justify-content:center;
 align-items:center;
 min-height:100vh;
 background: url('https://images.unsplash.com/photo-1517971071642-8a39b376bd0d?auto=format&fit=crop&w=1350&q=80') no-repeat center center fixed;
 background-size: cover;
 overflow: hidden;
}

/* ===== ì»¨í…Œì´ë„ˆ ===== */
.container {
 width:95%;
 max-width:700px;
 background: rgba(26,29,43,0.95);
 border-radius:30px;
 padding:20px;
 box-shadow:0 0 80px rgba(0,0,0,0.9);
 animation: fadeIn 1s;
}

/* ===== HUD ===== */
.hud {
 display:grid;
 grid-template-columns: repeat(7,1fr);
 gap:8px;
 margin-bottom:12px;
}
.hud-box {
 background: rgba(14,16,24,0.8);
 border-radius:18px;
 text-align:center;
 font-size:11px;
 padding:8px 0;
 box-shadow: 0 0 15px rgba(0,0,0,0.6);
 transition: all 0.2s;
}
.hud-box:hover { box-shadow: 0 0 25px #5865F2; }
.hud-box span {
 display:block;
 font-size:16px;
 font-weight:bold;
 color:#9fa8ff;
}

/* ===== ì§€ì—­ ===== */
.area {
 text-align:center;
 margin:12px 0;
 font-weight:bold;
 font-size:20px;
 color:#aab0ff;
 text-shadow: 0 0 10px #5865F2;
}

/* ===== ëª¬ìŠ¤í„° ì¹´ë“œ ===== */
.monster {
 background: radial-gradient(circle at top,#242840,#0c0e18);
 border-radius:28px;
 padding:28px 16px;
 text-align:center;
 cursor:pointer;
 user-select:none;
 margin-bottom:10px;
 box-shadow:0 0 25px rgba(0,0,0,0.8);
 transition: transform 0.2s;
}
.monster:hover { transform: scale(1.02); }
.monster-name {
 font-size:24px;
 margin-bottom:10px;
 font-weight:bold;
 color:#ffccaa;
 text-shadow: 0 0 8px #ff8855;
}

/* ===== HP / Mana ë°” ===== */
.hp-bar, .mana-bar {
 width:100%;
 height:16px;
 background:#111;
 border-radius:10px;
 overflow:hidden;
 margin-bottom:8px;
 box-shadow: inset 0 0 5px rgba(0,0,0,0.7);
}
.hp-fill { height:100%; background: linear-gradient(90deg,#ff3b3b,#ff9b9b); width:100%; transition:.2s;}
.mana-fill { height:100%; background: linear-gradient(90deg,#3b9bff,#6ec0ff); width:100%; transition:.2s;}

/* ===== ë²„íŠ¼ ===== */
.btn {
 width:100%;
 margin-top:8px;
 padding:14px;
 border-radius:20px;
 border:none;
 cursor:pointer;
 font-size:16px;
 font-weight:bold;
 color:white;
 background: linear-gradient(#5865F2,#404EED);
 box-shadow: 0 0 15px rgba(0,0,0,0.6);
 transition: transform 0.2s, box-shadow 0.2s;
}
.btn:hover { transform: scale(1.03); box-shadow:0 0 25px #5865F2;}
.btn.awaken { background: linear-gradient(90deg,#ff2d2d,#ffd700,#9b4dff);}
.btn.job { background: linear-gradient(90deg,#ffd700,#ff4d4d,#9b4dff);}
.btn.auto { background: linear-gradient(90deg,#00ff9b,#00a676);}
.btn.shop { background: linear-gradient(90deg,#ffaa00,#ff6600);}

/* ===== ìŠ¤í‚¬ ë²„íŠ¼ ===== */
.skill-btn {
 width:100%;
 padding:12px;
 margin-top:5px;
 border-radius:15px;
 background:#4d79ff;
 color:white;
 font-weight:bold;
 cursor:pointer;
 text-shadow:0 0 5px #000;
 transition: transform 0.2s, box-shadow 0.2s;
}
.skill-btn:hover { transform: scale(1.05); box-shadow:0 0 15px #5865F2;}

/* ===== ë¡œê·¸ ===== */
.log {
 text-align:center;
 margin-top:10px;
 font-size:14px;
 color:#b7bbff;
 min-height:24px;
 text-shadow:0 0 6px #000;
}

/* ===== ì• ë‹ˆë©”ì´ì…˜ ===== */
@keyframes fadeIn { from{opacity:0;} to{opacity:1;} }
</style>
</head>
<body>
<div class="container">

<div class="hud">
 <div class="hud-box">LV<span id="playerLv">1</span></div>
 <div class="hud-box">ì§ì—…<span id="jobText">ì´ˆë³´ì</span></div>
 <div class="hud-box">ATK<span id="atk">1</span></div>
 <div class="hud-box">ê°•í™”<span id="upgradeLv">1</span></div>
 <div class="hud-box">ğŸ’°<span id="coin">0</span></div>
 <div class="hud-box">EXP<span id="expText">0/10</span></div>
 <div class="hud-box">ğŸ’§<span id="manaText">10/10</span></div>
</div>

<div id="areaText" class="area">ğŸŒ± ì¼ëª»íƒ€</div>

<div class="monster" onclick="attack()">
 <div id="monsterName" class="monster-name">ì•„ì§ë„ ëª»ê¹¬ ë©œë‹˜</div>
 <div class="hp-bar"><div id="hpFill" class="hp-fill"></div></div>
 <div class="mana-bar"><div id="manaFill" class="mana-fill"></div></div>
</div>

<button id="upgradeBtn" class="btn" onclick="upgrade()">ğŸ”§ ê°•í™” (<span id="upgradeCost">20</span>ğŸ’°)</button>
<button id="jobBtn" class="btn job" onclick="jobChange()" style="display:none;">ğŸ”® ì „ì§</button>
<button id="autoBtn" class="btn auto" onclick="toggleAuto()">ğŸ¤– ìë™ì‚¬ëƒ¥ OFF</button>
<button class="btn shop" onclick="openShop()">ğŸª ìƒì </button>

<div id="skillsContainer"></div>
<div id="log" class="log">ê²Œì„ ì‹œì‘! í™”ë©´ í´ë¦­ í›„ ì‚¬ìš´ë“œ í™œì„±í™”</div>

<!-- ì‚¬ìš´ë“œ -->
<audio id="hitSound" src="https://assets.mixkit.co/sfx/preview/mixkit-quick-hit-2187.mp3"></audio>
<audio id="killSound" src="https://assets.mixkit.co/sfx/preview/mixkit-video-game-win-2016.mp3"></audio>
<audio id="upgradeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
<audio id="failSound" src="https://assets.mixkit.co/sfx/preview/mixkit-wrong-answer-fail-notification-946.mp3"></audio>
<audio id="levelSound" src="https://assets.mixkit.co/sfx/preview/mixkit-magic-game-win-1949.mp3"></audio>
<audio id="bossSound" src="https://assets.mixkit.co/sfx/preview/mixkit-dramatic-hit-166.mp3"></audio>

<script>
/* ===== ë³€ìˆ˜ ===== */
let coins=0, atk=1, playerLv=1, exp=0, nextExp=10;
let upgradeLv=1, upgradeChance=90;
let job="ì´ˆë³´ì", jobStage=0, goldBonus=1;
let monsterHp=10, monsterMaxHp=10, kills=0;
let autoHunt=false, autoInterval=null;
let mana=10, maxMana=10;
let soundEnabled=false;

/* ===== ì§€ì—­/ëª¬ìŠ¤í„° ===== */
const areas=[
 {name:"ğŸŒ± ì¼ëª»íƒ€",lv:1},{name:"ğŸŒ´ ê¸‰ëª»íƒ€",lv:10},{name:"â„ ìœ ê¸°ì‚¬ì˜ ì°¨ê°€ìš´ ë†ë‹´",lv:20},
 {name:"ğŸœ ì‹íƒ",lv:30},{name:"ğŸŒ‹ íŒ€ë‚˜ë¹ ",lv:40},{name:"ğŸŒŒ ìœ ê¸°ì‚¬ ë””ìŠ¤ì½”ë“œ",lv:50}
];
const monsters=[
 ["ì•„ì§ë„ ëª»ê¹¬ ë©œë‹˜","ê°™ì´ ì˜¬ë¼ê°€ëŠ” ë²¨í‚¤ë‹˜"],
 ["ì´ê±¸ ë˜ ì–´ë ¤ì›Œ í•˜ì‹œëŠ” ë©œë‹˜","ë¨¼ì € ì˜¬ë¼ê°„ ìš°ìœ ì°¸ì¹˜ë‹˜"],
 ["ì™•ì´ ë„˜ì–´ì§€ë©´? í‚¹ì½©ã…‹ã…‹ã…‹","ì•„ë‹ˆ ì‹¤ìˆ˜ë¡œ ë¼ì´ë²Œë“¤ì–´ê°"],
 ["ë‚´ ì˜·ì— ë–¨ì–´ì§„ ë°¥í’€ë‹˜","í›„ì‹ìœ¼ë¡  ì¤€ë¸Œë ˆë“œì—‰ë©ì´"],
 ["íŒ€ë‚˜ë¹ ","í’ì„±í•œ í• ë¡œìœˆ"],
 ["í‘í™”í•œ ë©œë‹˜","ìì¹¼ë‹˜","ë³´ìŠ¤: ìœ ê¸°ì‚¬"]
];

/* ===== UI ìš”ì†Œ ===== */
const playerLvSpan=document.getElementById("playerLv");
const atkSpan=document.getElementById("atk");
const upgradeLvSpan=document.getElementById("upgradeLv");
const coinSpan=document.getElementById("coin");
const expTextSpan=document.getElementById("expText");
const jobTextSpan=document.getElementById("jobText");
const upgradeCostSpan=document.getElementById("upgradeCost");
const hpFillElem=document.getElementById("hpFill");
const manaFillElem=document.getElementById("manaFill");
const monsterNameElem=document.getElementById("monsterName");
const areaTextElem=document.getElementById("areaText");
const logElem=document.getElementById("log");
const upgradeBtnElem=document.getElementById("upgradeBtn");
const jobBtnElem=document.getElementById("jobBtn");
const autoBtnElem=document.getElementById("autoBtn");
const skillsContainer=document.getElementById("skillsContainer");

/* ===== ì‚¬ìš´ë“œ ===== */
const hitSound=document.getElementById("hitSound");
const killSound=document.getElementById("killSound");
const upgradeSound=document.getElementById("upgradeSound");
const failSound=document.getElementById("failSound");
const levelSound=document.getElementById("levelSound");
const bossSound=document.getElementById("bossSound");

document.body.addEventListener("click", ()=>{
 [hitSound,killSound,upgradeSound,failSound,levelSound,bossSound].forEach(s=>{s.play().catch(()=>{});s.pause();s.currentTime=0;});
 soundEnabled=true;
 logElem.textContent="ğŸ”Š ì‚¬ìš´ë“œ í™œì„±í™” ì™„ë£Œ!";
},{once:true});

/* ===== ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° ===== */
function save(){ localStorage.setItem("yugisaRPG2", JSON.stringify({coins,atk,playerLv,exp,nextExp,upgradeLv,upgradeChance,job,jobStage,goldBonus,kills,mana,maxMana})); }
function load(){ try{ const s=JSON.parse(localStorage.getItem("yugisaRPG2")); if(s){coins=s.coins;atk=s.atk;playerLv=s.playerLv;exp=s.exp;nextExp=s.nextExp;upgradeLv=s.upgradeLv;upgradeChance=s.upgradeChance;job=s.job;jobStage=s.jobStage;goldBonus=s.goldBonus;kills=s.kills;mana=s.mana;maxMana=s.maxMana;} }catch{} }

/* ===== UI ê°±ì‹  ===== */
function updateUI(){
 hpFillElem.style.width=(monsterHp/monsterMaxHp*100)+"%";
 manaFillElem.style.width=(mana/maxMana*100)+"%";
 playerLvSpan.textContent=playerLv;
 expTextSpan.textContent=`${exp}/${nextExp}`;
 atkSpan.textContent=atk;
 coinSpan.textContent=coins;
 upgradeLvSpan.textContent=upgradeLv;
 upgradeCostSpan.textContent=20+upgradeLv*6;
 jobTextSpan.textContent=job;
 if(upgradeLv>=10) upgradeBtnElem.classList.add("awaken");
 save();
 checkJob();
}

/* ===== ì§€ì—­ ì¸ë±ìŠ¤/ëª¬ìŠ¤í„° ìƒì„± ===== */
function areaIndex(){ let i=0; for(let a=0;a<areas.length;a++) if(playerLv>=areas[a].lv)i=a; return i; }
function spawnMonster(){ const a=areaIndex(); monsterMaxHp=30+a*40+kills*2; monsterHp=monsterMaxHp; monsterNameElem.textContent=monsters[a][Math.floor(Math.random()*monsters[a].length)]; areaTextElem.textContent=areas[a].name; if(a===5 && monsterNameElem.textContent.includes("ë³´ìŠ¤") && soundEnabled){ bossSound.currentTime=0; bossSound.play().catch(()=>{});} updateUI(); }

/* ===== ì „íˆ¬/ë ˆë²¨ì—…/ê°•í™”/ì „ì§/ìë™ì‚¬ëƒ¥/ìƒì /ì¶œì„ì²´í¬/ìŠ¤í‚¬ ===== */
// ê³µê²©
function attack(){ if(mana>0){ mana--; manaFillElem.style.width=(mana/maxMana*100)+"%"; } monsterHp-=atk; if(soundEnabled){ hitSound.currentTime=0; hitSound.play().catch(()=>{});} if(monsterHp<=0){ if(soundEnabled){ killSound.currentTime=0; killSound.play().catch(()=>{});} kills++; coins+=Math.random()<0.05?100:Math.floor((10+areaIndex()*6)*goldBonus); exp+=Math.floor((8+areaIndex()*6)*(1+upgradeLv*0.1+goldBonus)); levelUp(); spawnMonster(); } updateUI(); }
// ë ˆë²¨ì—…
function levelUp(){ while(exp>=nextExp){ exp-=nextExp; playerLv++; atk++; levelSound.currentTime=0; levelSound.play().catch(()=>{}); logElem.textContent=`ğŸ‰ ë ˆë²¨ì—…! LV ${playerLv}`; nextExp=Math.floor(nextExp*1.3); } checkJob(); }
// ê°•í™”
function upgrade(){ const cost=20+upgradeLv*6; if(coins<cost){ logElem.textContent="ğŸ’¸ ê³¨ë“œ ë¶€ì¡±!"; if(soundEnabled){ failSound.currentTime=0; failSound.play().catch(()=>{});} return;} coins-=cost; let chance=upgradeLv>=10?95:upgradeChance; if(Math.random()*100<=chance){ upgradeLv++; atk+=upgradeLv>=10?2:1; upgradeChance=Math.max(10,upgradeChance-2); if(soundEnabled){ upgradeSound.currentTime=0; upgradeSound.play().catch(()=>{});} logElem.textContent="âœ¨ ê°•í™” ì„±ê³µ!"; } else{ if(soundEnabled){ failSound.currentTime=0; failSound.play().catch(()=>{});} logElem.textContent="ğŸ’¥ ê°•í™” ì‹¤íŒ¨â€¦";} updateUI(); }
// ì „ì§
function checkJob(){ if(playerLv>=20 && jobStage===0) jobBtnElem.style.display="block"; if(playerLv>=40 && jobStage===1) jobBtnElem.style.display="block"; if(playerLv>=60 && jobStage===2) jobBtnElem.style.display="block"; }
function jobChange(){ if(jobStage===0){ job="âš” ìš°ìœ ì°¸ì¹˜"; atk+=5; jobStage=1;} else if(jobStage===1){ job="ğŸ”¥ ì¤€ë¸Œë ˆë“œì—‰ë©ì´"; atk+=10; goldBonus+=0.3; jobStage=2;} else if(jobStage===2){ job="ğŸŒŒ ìœ ê¸°ì‚¬"; atk+=20; goldBonus+=0.7; jobStage=3;} jobBtnElem.style.display="none"; logElem.textContent=`ğŸŒŸ ì „ì§ ì™„ë£Œ! ${job}`; updateUI(); }
// ìë™ì‚¬ëƒ¥
function toggleAuto(){ autoHunt=!autoHunt; if(autoHunt){ autoBtnElem.textContent="ğŸ¤– ìë™ì‚¬ëƒ¥ ON"; autoInterval=setInterval(attack,200);} else{ autoBtnElem.textContent="ğŸ¤– ìë™ì‚¬ëƒ¥ OFF"; clearInterval(autoInterval);} }
// ìƒì 
function openShop(){ let choice=prompt("ìƒì :\n1. ë§ˆë‚˜ íšŒë³µ 10ğŸ’°\n2. ê°•í™”ì„ 50ğŸ’°\nì„ íƒ ë²ˆí˜¸ ì…ë ¥"); if(choice==="1" && coins>=10){ mana=maxMana; coins-=10; logElem.textContent="ğŸ’§ ë§ˆë‚˜ íšŒë³µ!";} else if(choice==="2" && coins>=50){ upgradeLv++; coins-=50; logElem.textContent="âœ¨ ê°•í™”ì„ êµ¬ë§¤!";} else logElem.textContent="ğŸ’¸ ê³¨ë“œ ë¶€ì¡± ë˜ëŠ” ì·¨ì†Œ"; updateUI(); }
// ì¶œì„ì²´í¬
function checkAttendance(){ const today=new Date().toISOString().slice(0,10); const last=localStorage.getItem("lastAttendance"); if(last!==today){ coins+=50; localStorage.setItem("lastAttendance",today); logElem.textContent="ğŸ ì˜¤ëŠ˜ ì¶œì„ 50ğŸ’° ì§€ê¸‰!"; updateUI();} else logElem.textContent="âœ… ì˜¤ëŠ˜ ì¶œì„ ì™„ë£Œ!"; }
checkAttendance();
// ìŠ¤í‚¬
function addSkill(name,cost,effect){ const btn=document.createElement("button"); btn.innerText=name; btn.className="skill-btn"; btn.onclick=()=>{ if(mana>=cost){ mana-=cost; effect(); updateUI(); logElem.textContent=`ğŸ’¥ ${name} ì‚¬ìš©!`; }else logElem.textContent="ğŸ’§ ë§ˆë‚˜ ë¶€ì¡±!";}; skillsContainer.appendChild(btn); }
addSkill("ğŸ”¥ íŒŒì´ì–´ë³¼",3,()=>{ monsterHp-=atk*3; });
addSkill("âš¡ ë²ˆê°œ",5,()=>{ monsterHp-=atk*5; });

/* ===== ì‹œì‘ ===== */
load();
spawnMonster();
updateUI();
</script>
</div>
</body>
</html>
